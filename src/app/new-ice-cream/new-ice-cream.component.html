<div class="container-fluid fill new-ice-cream">
  <div class="row h-100">

    <div class="col-xs-12 col-sm-4 h-100 pt-3 left">
        <h4>Customize your ice cream</h4>
        <form [formGroup]="icForm" (ngSubmit)="onAddIceCream()">

            <div class="form-group-wrapper">
                <p class="lead">Choose ice-cream type</p>
                <div class="form-check-inline" *ngFor="let type of iceCreamType">
                    <input type="radio"
                        class="hidden-input" 
                        [id]="type.name"
                        [value]="type.name"
                        formControlName="typeChosen"
                        >
                    <label class="form-check-label" 
                            [for]="type.name">
                        <img [src]="type.imgPath" alt="">
                    {{ type.name | titlecase }}</label>
                </div>
                <hr>
            </div>
            
            <div class="form-group-wrapper" *ngIf="scoops && iceCreamTypeChosen">
                <p class="lead">How much scoops?</p>
                <div class="form-check-inline" *ngFor="let scoop of scoops; index as i">
                    <input type="radio"
                        class="hidden-input" 
                        id=scoop-{{i}}
                        formControlName="scoopsAmountChosen"
                        [value]="scoop"
                        [(ngModel)]="scoopsAmountChosen">
                    <label class="form-check-label square-label" 
                            for=scoop-{{i}}>
                    {{ scoop }}</label>
                </div>
                <hr>
            </div>

            <div class="form-group-wrapper" *ngIf="shapes && iceCreamTypeChosen">
                    <p class="lead">What shape?</p>
                    <div class="form-check-inline" *ngFor="let shape of shapes; index as i">
                        <input type="radio"
                            class="hidden-input" 
                            [id]="shape.name"
                            formControlName="shapeChosen"
                            [value]="shape.name"
                            [(ngModel)]="shapeChosen">
                        <label class="form-check-label" 
                                [for]="shape.name">
                            <img [src]="shape.imgPath" [alt]="shape.name">
                        {{ shape.name | titlecase }}</label>
                    </div>
                    <hr>
                </div>

            <div class="form-group-wrapper" *ngIf="iceCreamTypeChosen">
            {{iceCreamTypeChosen}}
                <p class="lead">Choose flavour</p>
                <div class="form-check-inline" *ngFor="let flav of flavours">
                    <input type="radio"
                        class="hidden-input" 
                        [id]="flav.name"
                        formControlName="flavourChosen"
                        [value]="flav.name"
                        [(ngModel)]="flavourChosen"
                        >
                        
                    <label class="form-check-label" 
                            [for]="flav.name">
                    <img [src]="flav.imgPath" [alt]="flav.name">
                    {{ flav.name | titlecase }}</label>
                </div>
                <hr>
            </div>
        
        
        <button type="submit"
                class="btn btn-success"
                [disabled]="!icForm.valid">
                Add to shopping cart</button>
        
        </form>

    </div>

    <div class="col-xs-12 col-sm-4 pt-3 h-100 ">
        <app-ice-cream-preview></app-ice-cream-preview>
    </div>

    <div class="col-xs-12 col-sm-4 pt-3 h-100 right d-flex">
        <app-summary></app-summary>
    </div>

  </div>
</div>

<div class="sl-preview">
    <app-shopping-list-preview></app-shopping-list-preview>
</div>
